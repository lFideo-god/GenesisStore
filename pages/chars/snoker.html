<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Snoker — Terminal Negra</title>
    <style>
        :root {
            --bg: #000;
            --text: #ff9a28;
            --muted: #2b6b5d
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            height: 100%;
            margin: 0
        }

        body {
            background: var(--bg);
            color: var(--text);
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, monospace;
        }

        .terminal {
            position: fixed;
            inset: 0;
            padding: 22px 18px;
            display: flex;
            flex-direction: column;
            gap: 6px;
            line-height: 1.4;
            overflow: auto
        }

        .bootline {
            font-weight: 700;
            color: var(--text);
            opacity: 0;
            transform: translateY(-6px);
        }

        .bootline.visible {
            animation: bootIn .45s cubic-bezier(.2, .9, .26, 1) forwards
        }

        @keyframes bootIn {
            to {
                opacity: 1;
                transform: translateY(0)
            }
        }

        .client {
            font-weight: 600;
            color: rgba(255, 154, 40, 0.85);
            font-size: 12px;
            margin-left: 8px;
            opacity: 0;
            transform: translateY(-2px);
            transition: opacity .28s ease, transform .28s ease
        }

        .client.show {
            opacity: 1;
            transform: translateY(0)
        }

        .cmd-line {
            white-space: pre-wrap;
            font-size: 14px
        }

        .cursor {
            display: inline-block;
            width: 10px;
            height: 16px;
            background: var(--text);
            margin-left: 6px;
            vertical-align: middle;
            animation: blink 1s steps(2) infinite
        }

        @keyframes blink {
            50% {
                opacity: 0
            }
        }

        .terminal::before {
            content: '';
            position: fixed;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
            pointer-events: none;
            background-image: linear-gradient(rgba(255, 255, 255, 0.01) 1px, transparent 1px);
            background-size: 100% 3px;
            mix-blend-mode: overlay
        }

        .progress-bar {
            width: 80%;
            height: 12px;
            border: 1px solid var(--text);
            margin-top: 20px;
            position: relative;
            overflow: hidden
        }

        .progress-fill {
            background: var(--text);
            height: 100%;
            width: 0%;
            transition: width 3s linear
        }

        @media (max-width:520px) {
            .cmd-line {
                font-size: 13px
            }
        }
    </style>
</head>

<body>
    <div class="terminal" id="terminal" role="region" aria-label="Terminal Valkyria" aria-live="polite">
        <div style="display:flex;align-items:center;gap:6px;flex-wrap:wrap;">
            <div id="bootLine" class="bootline">Iniciando Valkyria</div>
            <div id="bootClient" class="client">Valkyria Client</div>
            <div id="bootDots" style="margin-left:6px;min-width:22px">...</div>
            <span id="bootCursor" class="cursor" aria-hidden="true"></span>
        </div>
        <div id="cmdArea"></div>
    </div>
    <script>
        const terminal = document.getElementById('terminal');
        const bootLine = document.getElementById('bootLine');
        const bootClient = document.getElementById('bootClient');
        const bootDots = document.getElementById('bootDots');
        const bootCursor = document.getElementById('bootCursor');
        const cmdArea = document.getElementById('cmdArea');
        function sleep(ms) { return new Promise(r => setTimeout(r, ms)); }
        const commands = [
            'C:\\> Actualizando paquetes... (apt/valkyri update)',
            'C:\\> Verificando módulos cargados...',
            'C:\\> Escaneando puertos y servicios...',
            'C:\\> Inyectando payload ...',
            'C:\\> Analizando integridad de datos ...',
            'C:\\> Desencriptando hashes antiguos ...',
            'C:\\> Reconfigurando matrices ...',
            'C:\\> Sincronizando memoria histórica (Valkyria)...',
            'C:\\> Exportando reporte local y registros...'
        ];
        async function startSequence() {
            await sleep(500);
            const heading = 'Iniciando Valkyria';
            bootLine.textContent = '';
            for (let i = 0; i < heading.length; i++) { bootLine.textContent += heading[i]; await sleep(20 + Math.random() * 30); }
            bootClient.classList.add('show');
            const dotUp = '˙';
            const frames = ['...', dotUp + '..', '.' + dotUp + '.', '..' + dotUp];
            const dotDuration = 2000;
            const step = Math.max(120, Math.floor(dotDuration / frames.length));
            for (let repeat = 0; repeat < 2; repeat++) {
                for (let f = 0; f < frames.length; f++) {
                    bootDots.textContent = frames[f];
                    await sleep(step);
                }
            }
            bootDots.textContent = '...';
            await sleep(120);
            bootCursor.style.display = 'none';
            for (const line of commands) {
                await typeCMDLine(line);
                await sleep(220 + Math.random() * 180);
            }
            showProgressBar();
        }
        async function typeCMDLine(fullText) {
            const el = document.createElement('div'); el.className = 'cmd-line'; cmdArea.appendChild(el);
            for (let i = 0; i < fullText.length; i++) {
                el.textContent = fullText.slice(0, i + 1);
                terminal.scrollTop = terminal.scrollHeight;
                await sleep(12 + Math.random() * 35);
            }
        }
        function showProgressBar() {
            const barContainer = document.createElement('div');
            barContainer.className = 'progress-bar';
            const fill = document.createElement('div');
            fill.className = 'progress-fill';
            barContainer.appendChild(fill);
            cmdArea.appendChild(barContainer);
            terminal.scrollTop = terminal.scrollHeight;
            setTimeout(() => { fill.style.width = '100%'; }, 100);
            setTimeout(() => { window.location.href = 'snokerinfo.html'; }, 3100);
        }
        startSequence();
        window.__snoker = { startSequence };
    </script>
</body>

</html>